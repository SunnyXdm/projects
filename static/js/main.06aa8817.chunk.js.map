{"version":3,"sources":["Card.js","Wallpapers.js","Header.js","App.js","index.js"],"names":["Card","wall","lastWall","loadMoreId","id","observer","useRef","lastWallRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","console","log","permalink","ref","className","src","preview","alt","title","author","href","url","target","rel","download","Wallpapers","data","lastPost","map","post","index","length","Header","App","useState","walls","setWalls","setId","setLoadMoreId","useEffect","a","axios","get","result","resultData","children","push","images","resolutions","ups","fetchItems","style","borderTopColor","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.06aa8817.chunk.js","sourcesContent":["import { useRef, useCallback } from 'react'\n\nfunction Card({wall, lastWall, loadMoreId, id}) {\n  const observer = useRef()\n  const lastWallRef = useCallback(node => {\n    if (observer.current) observer.current.disconnect()\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting) {\n        loadMoreId(id)\n      }\n    })\n    if (node) observer.current.observe(node)\n  })\n  console.log(wall.permalink)\n  return (\n    <>\n    {lastWall ?\n    <div ref={lastWallRef}>\n      <img className=\"object-cover object-center h-full w-full rounded shadow-xl\" src={`${wall.preview}`} alt=\"\"></img>\n      <div className=\"py-1\">\n        <div className=\"text-lg select-none text-black font-poppins font-semibold\">{wall.title}</div>\n        <div className=\"text-sm select-none text-black font-poppins\">by ~ {wall.author}</div>\n      </div>\n      <div className=\"rounded-sm bg-purple-700 w-24 h-8 font-bold text-white font-poppins flex items-center justify-center select-none\">\n        <a\n          href={wall.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          download\n        >\n        Download\n        </a>\n      </div>\n    </div> :\n    <div>\n      <img className=\"object-cover object-center h-full w-full rounded shadow-xl\" src={`${wall.preview}`} alt=\"\"></img>\n      <div className=\"py-1\">\n        <div className=\"text-lg select-none text-black font-poppins font-semibold\">{wall.title}</div>\n        <div className=\"text-sm select-none text-black font-poppins\">by ~ {wall.author}</div>\n      </div>\n      <div className=\"rounded-sm bg-purple-700 w-24 h-8 font-bold text-white font-poppins flex items-center justify-center select-none\">\n        <a\n          href={wall.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          download\n        >\n        Download\n        </a>\n      </div>\n    </div>\n    }\n    </>\n  );\n}\n\nexport default Card;\n","import Card from \"./Card\"\n\nfunction Wallpapers({ data, lastPost, loadMoreId, id }) {\n  return (\n    <>\n      <ul className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 md:gap-8\">\n          {data.map((post, index) =>\n            (data.length === index + 1) ?\n            <li key={post.id}>\n              <Card wall={post} lastWall={true} loadMoreId={loadMoreId} id={id}/>\n            </li> : \n            <li key={post.id}>\n              <Card wall={post} lastWall={false}/>\n            </li>\n          )}\n        </ul>\n    </>\n  );\n}\n\nexport default Wallpapers;","function Header() {\n  return (\n    <div className=\"text-center text-5xl py-4 font-poppins font-normal\">\n      ReDxWalls\n    </div>\n  );\n}\n\nexport default Header;","import Wallpapers from \"./Wallpapers\";\nimport Header from \"./Header\";\nimport axios from \"axios\"\nimport { useState, useEffect} from 'react'\n\nfunction App() {\n  const [walls, setWalls] = useState([])\n  const [id, setId] = useState('')\n  const [loadMoreId, setLoadMoreId] = useState('')\n  \n  useEffect(() => {\n    const fetchItems = async () => {\n      const result = await axios.get('https://www.reddit.com/r/wallpaper/hot.json?&limit=30&raw_json=1')\n      const resultData = []\n      result.data.data.children.map((post) => (\n        post.data.preview ? resultData.push({\n          preview:post.data.preview.images[0].resolutions[3].url,\n          permalink:post.data.permalink,\n          url:post.data.url,\n          title:post.data.title,\n          author:post.data.author,\n          ups:post.data.ups,\n          id:post.data.id\n        }) : ''\n      ))\n      setId(resultData[resultData.length-1].id)\n      // alternative method\n      \n      // result.data.data.children.forEach((post) => {\n      //   post.data.preview ? resultData.push({\n      //     preview:post.data.preview.images[0].resolutions[3].url,\n      //     title:post.data.title,\n      //     author:post.data.author,\n      //     ups:post.data.ups\n      //   }) : ''\n      // });\n      \n      setWalls(resultData)\n      }\n      fetchItems()\n  }, [])\n  useEffect(() => {\n    const fetchItems = async () => {\n      const result = await axios.get(`https://www.reddit.com/r/wallpaper/hot.json?&limit=30&raw_json=1&after=t3_${loadMoreId}`)\n      const resultData = []\n      result.data.data.children.map((post) => (\n        post.data.preview ? resultData.push({\n          preview:post.data.preview.images[0].resolutions[3].url,\n          permalink:post.data.permalink,\n          url:post.data.url,\n          title:post.data.title,\n          author:post.data.author,\n          ups:post.data.ups,\n          id:post.data.id\n        }) : ''\n      ))\n      setId(resultData[resultData.length-1].id)\n      setWalls([...walls, ...resultData])\n      console.log(walls)\n      }\n      fetchItems()\n  }, [loadMoreId])\n  return (\n    <div>\n      <Header />\n      <div className=\"min-h-screen flex items-center\">\n        <div className=\"flex-1 mx-auto p-4\">\n          <Wallpapers data={walls} loadMoreId={setLoadMoreId} id={id}/>\n        </div>\n      </div>\n      <div className=\"flex justify-center p-4\">\n        <div style={{borderTopColor:\"transparent\"}} className=\"w-16 h-16 border-8 border-purple-700 border-solid rounded-full animate-spin\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}